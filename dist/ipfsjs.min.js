!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("IPFS",[],e):"object"==typeof exports?exports.IPFS=e():t.IPFS=e()}(this,function(){return function(t){function e(r){if(o[r])return o[r].exports;var n=o[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,e),n.l=!0,n.exports}var o={};return e.m=t,e.c=o,e.i=function(t){return t},e.d=function(t,e,o){Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:o})},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=2)}([function(t,e){"use strict";t.exports=function(t,e,o){var r=new FormData,n="object"==typeof t&&t.isBuffer?t.toString("binary"):t;r.append("file",new Blob([n],{}));var s=function(t,e){return o(t,t?null:e.Hash)};e.sendAsync({jsonParse:!0,accept:"application/json",uri:"/add",payload:r},s)}},function(t,e){"use strict";t.exports={XMLHttpRequest:window.XMLHttpRequest,XMLHttpRequestUpload:window.XMLHttpRequestUpload,FormData:window.FormData}},function(t,e,o){"use strict";function r(t){if(!(this instanceof r))throw Error('[ipfsjs] IPFS instance must be instantiated with "new" flag (e.g. var ipfs = new IPFS("http://localhost:8545");).');var e=this;e.setProvider(t||{})}var n=o(1).XMLHttpRequest,s=o(0);t.exports=r,r.prototype.setProvider=function(t){if("object"!=typeof t)throw Error("[ifpsjs] provider must be type Object, got '"+typeof t+"'.");var e=this,o=e.provider=Object.assign({host:"127.0.0.1",port:"5001",protocol:"http",base:"/api/v0"},t||{});e.requestBase=o.protocol+"://"+o.host+":"+o.port+o.base},r.prototype.sendAsync=function(t,e){var o=this,r=new n,s=t||{},i=e||function(){};r.open("POST",""+o.requestBase+t.uri),s.accept&&r.setRequestHeader("accept",s.accept),r.onreadystatechange=function(){if(4===r.readyState&&1!==r.timeout)if(200!==r.status)i(Error("[ipfsjs] status "+r.status+": "+r.responseText),null);else try{i(null,s.jsonParse?JSON.parse(r.responseText):r.responseText)}catch(t){i(Error("[ipfsjs] while parsing data: '"+(r.responseText+"")+"', error: "+(t+"")+" with provider: '"+o.requestBase+"'",null))}};try{s.payload?(r.enctype="multipart/form-data",r.send(s.payload)):r.send()}catch(a){i(Error("[ipfsjs] CONNECTION ERROR: Couldn't connect to node '"+o.provider+"': "+JSON.stringify(a,null,2)),null)}},r.prototype.add=function(t,e){var o=this;s(t,o,e)},r.prototype.addJSON=function(t,e){var o=this;o.add(JSON.stringify(t),e)},r.prototype.stat=function(t,e){var o=this;o.sendAsync({jsonParse:!0,uri:"/object/stat/"+t},e)},r.prototype.cat=function(t,e){var o=this;o.sendAsync({uri:"/cat/"+t},e)},r.prototype.catJSON=function(t,e){var o=this;o.cat(t,function(t,o){if(t)return e(t,null);try{e(null,JSON.parse(o))}catch(r){e(r,null)}})}}])});